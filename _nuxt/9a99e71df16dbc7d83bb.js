(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{905:function(t,e,a){},906:function(t,e,a){},907:function(t,e,a){},908:function(t,e,a){},909:function(t,e,a){},910:function(t,e,a){},911:function(t,e,a){},912:function(t,e,a){},914:function(t,e,a){},915:function(t,e,a){},916:function(t,e,a){},917:function(t,e,a){},922:function(t,e,a){"use strict";var i=a(10),n=a.n(i),r=(a(58),a(18)),s=a.n(r),o=a(33),c=a.n(o),l=a(52),u=a(31),d=a.n(u),h=(a(207),{name:"MapLegend",computed:c()({},Object(l.b)(["zoomPercentage"])),data:function(){return{opened:!0}},props:{fadeOutFromZoomPercentage:{type:Number,default:80}},mounted:function(){var t=this;window&&window.innerWidth&&window.innerWidth<380&&(this.opened=!1),this.$bus.$on("closeLegend",function(e){t.opened=!1})}}),p=(a(934),a(32)),m=a(81),v=a.n(m),g=a(201),f=Object(p.a)(h,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("l-control",{staticClass:"map-legend-control",attrs:{position:"topright"}},[i("div",{staticClass:"map-legend",class:{"fade-legend":t.zoomPercentage>t.fadeOutFromZoomPercentage,"close-legend":!t.opened}},[i("div",{staticClass:"map-legend-toggle",on:{click:function(e){t.opened=!t.opened}}},[i("v-icon",{attrs:{large:""}},[t._v("chevron_right")])],1),t._v(" "),i("div",{staticClass:"map-legend-content"},[i("div",{staticClass:"map-legend-title"},[t._v("Legend")]),t._v(" "),i("div",{staticClass:"map-legend-separator"}),t._v(" "),i("ul",{staticClass:"legend-list"},[i("li",[i("span",{staticClass:"header"},[t._v("Altitudes")])]),t._v(" "),i("li",[i("span",{staticClass:"icon"},[i("div",{staticClass:"island saborian low"}),t._v(" "),i("div",{staticClass:"island kioki low"})]),t._v(" "),i("span",{staticClass:"description"},[t._v("Low Altitude")])]),t._v(" "),i("li",{staticClass:"map-legend-separator"}),t._v(" "),i("li",[i("span",{staticClass:"icon"},[i("div",{staticClass:"island saborian medium"}),t._v(" "),i("div",{staticClass:"island kioki medium"})]),t._v(" "),i("span",{staticClass:"description"},[t._v("Medium Altitude")])]),t._v(" "),i("li",{staticClass:"map-legend-separator"}),t._v(" "),i("li",[i("span",{staticClass:"icon"},[i("div",{staticClass:"island saborian high"}),t._v(" "),i("div",{staticClass:"island kioki high"})]),t._v(" "),i("span",{staticClass:"description"},[t._v("High Altitude")])]),t._v(" "),i("li",{staticClass:"map-legend-separator"}),t._v(" "),i("li",[i("span",{staticClass:"header"},[t._v("Icons")])]),t._v(" "),i("li",[i("span",{staticClass:"icon single background"},[i("div",{staticClass:"databank"},[i("img",{attrs:{src:a(929)}})])]),t._v(" "),i("span",{staticClass:"description"},[t._v("Databanks")])]),t._v(" "),i("li",[i("span",{staticClass:"icon single background"},[i("div",{staticClass:"revival"},[i("img",{attrs:{src:a(930)}})])]),t._v(" "),i("span",{staticClass:"description"},[t._v("Revival Chambers")])]),t._v(" "),i("li",[i("span",{staticClass:"icon single background"},[i("div",{staticClass:"turret"},[i("img",{attrs:{src:a(931)}})])]),t._v(" "),i("span",{staticClass:"description"},[t._v("Turrets")])]),t._v(" "),i("li",[i("span",{staticClass:"icon single culture background"},[i("div",{staticClass:"kioki"},[i("img",{attrs:{src:a(932)}})])]),t._v(" "),i("span",{staticClass:"description"},[t._v("Kioki")])]),t._v(" "),i("li",[i("span",{staticClass:"icon single culture background"},[i("div",{staticClass:"sabor"},[i("img",{attrs:{src:a(933)}})])]),t._v(" "),i("span",{staticClass:"description"},[t._v("Saborian")])]),t._v(" "),i("li",[i("span",{staticClass:"icon single background"},[i("div",{staticClass:"dangerous"})]),t._v(" "),i("span",{staticClass:"description"},[t._v("Dangerous")])])])])])])},[],!1,null,"5119a1fe",null);f.options.__file="MapLegend.vue";var b=f.exports;v()(f,{VIcon:g.a});var _,k=a(902),y=a.n(k),w=(a(208),a(57),a(68),a(110),a(148),{components:{CopyPasteLink:a(233).a},name:"IslandPopup",filters:{capitalize:function(t){return t?(t=t.toString()).charAt(0).toUpperCase()+t.slice(1):""},upper:function(t){return t.toUpperCase()},metalsToString:function(t){var e=[];return d.a.forEach(t,function(t){e.push(t.name+" Q"+t.quality)}),e.join(", ")}},methods:{hiliteAlliance:function(){var t=document.querySelectorAll(".leaflet-popup-close-button");if(t)for(var e=0;e<t.length;e++)t[e].click();var a=this;this.filteredIslands=d.a.filter(a.$store.state.islandData.features,function(t){return t.properties.tc[a.$store.state.mapMode].alliance===a.tcAlliance});var i=this.filteredIslands.map(function(t){return t.geometry.coordinates});this.$store.commit("setHighlights",i)},changeIslandVisited:function(t){t?this.$store.commit("account/addIslandVisited",this.id):this.$store.commit("account/removeIslandVisited",this.id)},copyToClipboard:(_=s()(n.a.mark(function t(e){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"/"!==(a=window.location.origin+window.location.pathname).substring(a.length-1)&&(a+="/"),a+=this.id,t.prev=3,t.next=6,this.$copyText(a);case 6:this.$store.commit("setSnack",{text:"Url copied to clipboard",color:"success"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),this.$store.commit("setSnack",{text:"There was an error copying the link to your clipboard",color:"error"});case 12:case"end":return t.stop()}},t,this,[[3,9]])})),function(t){return _.apply(this,arguments)}),getQuality:function(t){if(!t.quality){var e=d.a.find(this.metals,function(e){return e.name===t.name});return e?e.quality:"N/A"}return t.quality}},mounted:function(){if("pvp"===this.$store.state.mapMode?(this.metals=this.pvpMetals,this.tcAlliance=this.tc.pvp.alliance,this.tcName=this.tc.pvp.tower_name):(this.metals=this.pveMetals,this.tcAlliance=this.tc.pve.alliance,this.tcName=this.tc.pve.tower_name),this.currentCharacter&&this.characters&&this.characters.length){var t=this.currentCharacter;this.currentChar=d.a.chain(this.characters).filter(function(e){return e.guid===t}).first().value()}},computed:c()({},Object(l.b)(["config","islandPopupId"]),Object(l.b)("account",{loggedIn:"loggedIn",currentCharacter:"currentCharacter",characters:"characters"}),{islandVisited:{get:function(){if(this.currentCharacter&&this.characters.length){var t=this.currentCharacter,e=d.a.chain(this.characters).filter(function(e){return e.guid===t}).first().value();if(e&&e.visited_islands&&e.visited_islands.length&&e.visited_islands.indexOf(this.id.toString())>=0)return!0}return!1},set:function(t){this.id&&(t?this.$store.commit("account/addIslandVisited",this.id):this.$store.commit("account/removeIslandVisited",this.id))}},activeMetals:function(){return this.$cookies.get("showAllMetals")?this.$store.state.metalTypes:this.metals}}),watch:{islandPopupId:function(t,e){if(t===this.id&&(this.showPopup=!0,this.currentCharacter&&this.characters&&this.characters.length)){var a=this.currentCharacter;this.currentChar=d.a.chain(this.characters).filter(function(t){return t.guid===a}).first().value()}},currentCharacter:function(t,e){if(""!==t&&this.$store.state.account.characters.length){var a=d.a.chain(this.$store.state.account.characters).filter(function(e){return e.guid===t}).first().value();this.currentChar=a||{name:"",guid:""}}else this.currentChar={name:"",guid:""}},characters:function(t,e){if(""!==this.$store.state.account.currentCharacter&&t.length){var a=this.$store.state.account.currentCharacter,i=d.a.chain(t).filter(function(t){return t.guid===a}).first().value();i&&(this.currentCharName=i)}else this.currentCharName={name:"",guid:""}}},data:function(){return{tcAlliance:"",tcName:"",currentChar:{name:"",guid:""},showReportNotImplemented:!1,showMore:!1,metals:null,showPopup:!1,panel:[!1,!1,!1]}},props:["id","name","nickName","fullName","slug","type","tier","databanks","altitude","creator","creatorWorkshopUrl","surveyCreatedBy","surveyUpdatedBy","respawners","dangerous","turrets","spikes","nonGrappleWalls","workshopUrl","trees","pveMetals","pvpMetals","imageIcon","imageIconBig","imagePopup","imageMedium","imageLarge","imageOriginal","createdAt","updatedAt","latLng","tc"]}),C=(a(935),a(200)),I=a(197),x=a(899),$=a(202),z=a(193),M=a(894),P=a(895),S=a(195),Z=a(575),D=a(196),L=a(892),N=Object(p.a)(w,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("no-ssr",[a("l-popup",[a("div",{staticClass:"island-popup"},[t.showPopup?[a("table",{staticClass:"island-data-table"},[a("tr",{staticClass:"name"},[a("th",{attrs:{colspan:"2"}},[a("div",{staticClass:"island-title"},[a("div",{staticClass:"island-name"},[t.tcAlliance&&"Unclaimed"!==t.tcAlliance?a("div",{staticClass:"tc-alliance",on:{click:t.hiliteAlliance}},[a("span",[t._v("Owned by:")]),t._v(" "),a("strong",[t._v(t._s(t.tcAlliance))])]):t._e(),t._v(" "),a(t.workshopUrl?"a":"div",{tag:"component",staticClass:"island-name-link",attrs:{href:t.workshopUrl||"",target:"_blank",rel:"nofollow,noopener"}},[a("span",{staticClass:"nickname"},[t._v(t._s(t.nickName?t.nickName:t.name))]),t._v(" "),t.nickName?a("span",{staticClass:"name"},[t._v("("+t._s(t.name)+")")]):t._e(),t._v(" "),t.workshopUrl?a("img",{attrs:{src:"/assets/steam_icon.png"}}):t._e()])],1),t._v(" "),a("span",{staticClass:"by-author"},[t._v("by")]),t._v(" "),a(t.creatorWorkshopUrl?"a":"span",{tag:"component",staticClass:"creator-name",attrs:{href:t.creatorWorkshopUrl||"",target:"_blank",rel:"nofollow,noopener"}},[a("span",{staticClass:"username"},[t._v(t._s(t.creator))]),t._v(" "),t.creatorWorkshopUrl?a("img",{attrs:{src:"/assets/steam_icon.png"}}):t._e()])],1)])]),t._v(" "),a("tr",[a("td",{staticClass:"island-popup-image",attrs:{colspan:"2"}},[a("a",{attrs:{href:t.imageOriginal,target:"_blank"}},[a("v-img",{attrs:{width:300,src:t.imagePopup}})],1),t._v(" "),a("div",{staticClass:"island-popup-copy-paste"},[a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:t.copyToClipboard},slot:"activator"},[a("CopyPasteLink")],1),t._v(" "),a("span",[t._v("Copy the current island location to clipboard")])],1)],1)])]),t._v(" "),a("tr",[a("table",{staticClass:"island-info-table mt-2"},[a("tr",[a("td",[t._v("Altitude")]),t._v(" "),a("td",[t._v(t._s(t.altitude))])]),t._v(" "),a("tr",[a("td",[t._v("Databanks")]),t._v(" "),a("td",[t._v(t._s(t.databanks))])])])]),t._v(" "),a("tr",{staticClass:"expansion-panels"},[a("v-expansion-panel",{attrs:{expand:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[a("v-expansion-panel-content",{staticClass:"island-extras",attrs:{ripple:!0}},[a("div",{staticClass:"text-xs-center expansion-header subheading",attrs:{slot:"header"},slot:"header"},[t._v("More info")]),t._v(" "),a("v-card",[a("v-card-text",{staticClass:"py-2"},[t.metals&&t.metals.length>0||t.$store.state.config.showAllMetals?a("table",{staticClass:"island-materials-table"},t._l(t.activeMetals,function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(t.getQuality(e)))])])})):a("div",{staticClass:"island-materials-table"},[t._v("No metals data")]),t._v(" "),t.trees.length>0?a("table",{staticClass:"island-materials-table"},t._l(t.trees,function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e))])])})):a("div",{staticClass:"island-materials-table"},[t._v("No tree data")]),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticClass:"table-divider"})])],1)],1)],1)],1),t._v(" "),t.currentChar.guid&&t.currentChar.name?a("tr",[a("v-container",{attrs:{fluid:"","pa-0":""}},[a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{shrink:""}},[a("v-card",{staticClass:"pa-2 mt-2",attrs:{color:"brown"}},[a("v-checkbox",{attrs:{label:"Visited with `"+t.currentChar.name+"`",color:"green"},model:{value:t.islandVisited,callback:function(e){t.islandVisited=e},expression:"islandVisited"}})],1)],1)],1)],1)],1):t._e()]),t._v(" "),t.config.showEdit?a("v-btn",{staticClass:"island-popup-button",attrs:{href:"/islands/"+t.id+"/edit",color:"green",flat:"",grow:"",block:"",target:"_blank",rel:"noopener,nofollow"}},[a("v-icon",[t._v("create")]),t._v(" "),a("span",[t._v("Edit")])],1):t._e()]:t._e()],2)])],1)],1)},[],!1,null,null,null);N.options.__file="IslandPopup.vue";var O,V=N.exports;v()(N,{VBtn:C.a,VCard:I.a,VCardText:x.b,VCheckbox:$.a,VContainer:z.a,VExpansionPanel:M.a,VExpansionPanelContent:P.a,VFlex:S.a,VIcon:g.a,VImg:Z.a,VLayout:D.a,VTooltip:L.a}),"undefined"!=typeof window&&(O=a(98));var A={components:{IslandPopup:V},computed:c()({},Object(l.b)(["zoomPercentage","islandData"])),watch:{zoomPercentage:function(t,e){if(t!==this.prevZoom){if(t<=this.alphaIconsToPercentage){var a=t/this.alphaIconsToPercentage;y()(".island-dot").css("opacity",a)}else y()(".island-dot").css("opacity",1);this.prevZoom=t}}},data:function(){return{islandIcons:{},dotIcon:null,smallIcon:null,circleIcon:null,prevZoom:null}},props:{showIconsFromPercentage:{type:Number,default:35},showCirclesFromPercentage:{type:Number,default:75},alphaIconsToPercentage:{type:Number,default:40}},methods:{closeLegend:function(t,e){e.$emit("closeLegend")},getIcon:function(t){return this.zoomPercentage>=this.showCirclesFromPercentage?this.getCircleIcon(t):this.zoomPercentage>=this.showIconsFromPercentage?this.getDotIcon(t):this.getSmallDotIcon(t)},getSmallDotIcon:function(t){if(t&&null!=t.altitude&&null!=t.tier&&null!=t.type){var e="low";t.altitude>2200?e="high":t.altitude>1800&&(e="medium");var a,i="one";return 2===t.tier?i="two":3===t.tier?i="three":4===t.tier&&(i="four"),"kioki"===t.type?a=O.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><circle class="'+e+" "+i+'"cx="6" cy="6" r="5" /></svg>',iconAnchor:[6,6],iconSize:[12,12],clickable:!0,interactive:!0,className:"island-dot"}):"saborian"===t.type&&(a=O.divIcon({html:'<svg style="transform: rotateZ(45deg);" xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><rect class="'+e+" "+i+'" width="12" height="12" /></svg>',iconAnchor:[6,6],iconSize:[12,12],clickable:!0,interactive:!0,className:"island-dot"})),a}},getDotIcon:function(t){if(t&&null!=t.altitude&&null!=t.tier&&null!=t.type){var e="low";t.altitude>2200?e="high":t.altitude>1800&&(e="medium");var a,i="one";return 2===t.tier?i="two":3===t.tier?i="three":4===t.tier&&(i="four"),"kioki"===t.type?a=O.divIcon({html:'<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30"><circle class="'+e+" "+i+'"cx="15" cy="15" r="14" /></svg>',iconAnchor:[15,15],iconSize:[30,30],clickable:!0,interactive:!0,className:"island-dot"}):"saborian"===t.type&&(a=O.divIcon({html:'<svg style="transform: rotateZ(45deg);" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><rect class="'+e+" "+i+'" width="24" height="24" /></svg>',iconAnchor:[12,12],iconSize:[24,24],className:"island-dot"})),a}},getCircleIcon:function(t){if(t.imageIcon){var e=["island-circle"];if(t.revivalChambers&&e.push("revival"),t.turrets&&e.push("turrets"),t.dangerous&&e.push("turrets"),t.type&&e.push(t.type),t.dangerous&&e.push("dangerous"),O)return O.divIcon({properties:t,html:'<div class="'+e.join(" ")+'"><img class="island-circle-img" src="'+t.imageIcon+'" /><div class="island-circle-type"></div><div class="island-circle-knowledge">'+t.databanks+'</div><div class="island-circle-revival"></div><div class="island-circle-turrets"></div></div>',iconSize:[100,100],iconAnchor:[50,50],clickable:!0,interactive:!0,className:e.join(" ")})}}}},j=(a(936),Object(p.a)(A,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.islandData&&t.islandData.features&&t.islandData.features.length?a("div",{staticClass:"islandMarkers"},[a("no-ssr",t._l(t.islandData.features,function(e){return a("l-marker",{key:e.properties.key,attrs:{"lat-lng":e.geometry.coordinates,icon:t.getIcon(e.properties),id:e.id,"close-popup-on-click":!1,"layer-type":"overlay"},on:{mouseover:function(a){t.$store.commit("setIslandPopupId",e.id)},mousedown:function(a){t.$store.commit("setIslandPopupId",e.id)},click:function(a){t.closeLegend(a,t.$bus),t.$store.commit("setIslandPopupId",e.id)}}},[a("island-popup",t._b({},"island-popup",e.properties,!1))],1)}))],1):t._e()},[],!1,null,null,null));j.options.__file="MapIslands.vue";var T,U=j.exports;"undefined"!=typeof window&&(T=a(98));var q={computed:c()({},Object(l.b)(["highlightedCoords","zoomPercentage"])),watch:{zoomPercentage:function(t,e){t<=this.normalIconFromZoomPercentage?"small"!==this.currentSize&&(this.highlightIcon=T.divIcon({html:'<img style="width:30px;height:30px;" src="/assets/highlight_arrow.png" />',iconSize:[30,50],iconAnchor:[15,25],clickable:!1,interactive:!1,className:"highlight-icon"}),this.currentSize="small"):t<=this.bigIconfromZoomPercentage?"medium"!==this.currentSize&&(this.highlightIcon=T.divIcon({html:'<img src="/assets/highlight_arrow.png" />',iconSize:[60,100],iconAnchor:[30,50],clickable:!1,interactive:!1,className:"highlight-icon"}),this.currentSize="medium"):"big"!==this.currentSize&&(this.highlightIcon=T.divIcon({html:'<img src="/assets/highlight_arrow.png" />',iconSize:[60,230],iconAnchor:[30,120],clickable:!1,interactive:!1,className:"highlight-icon"}),this.currentSize="big")}},props:{normalIconFromZoomPercentage:{type:Number,default:35},bigIconfromZoomPercentage:{type:Number,default:70}},mounted:function(){this.highlightIcon=T.divIcon({html:'<img src="/assets/highlight_arrow.png" />',iconSize:[60,120],clickable:!1,interactive:!1,className:"highlight-icon"})},data:function(){return{currentSize:"",highlightIcon:null,currentIconHeight:240}}},E=(a(937),Object(p.a)(q,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"highlight-markers"},[a("no-ssr",t._l(t.highlightedCoords,function(e,i){return a("l-marker",{key:i,attrs:{"lat-lng":e,icon:t.highlightIcon,options:{interactive:!1},"layer-type":"overlay"}})}))],1)},[],!1,null,null,null));E.options.__file="MapHighlighter.vue";var B=E.exports,F={name:"ZoneNameOverlay",computed:c()({},Object(l.b)(["zonenamesData","zoomPercentage","overlayLoaded"])),methods:{setOverlayLoaded:function(){this.$store.commit("setOverlayLoaded",!0)}},props:{alphaFromZoomPercentage:{type:Number,default:20},alphaToZoomPercentage:{type:Number,default:30}},watch:{zoomPercentage:function(t,e){if(this.$refs&&this.$refs.zonenames&&this.$refs.zonenames.getElement()){var a=this.$refs.zonenames.getElement();if(a){var i=y()(a);if(i.css("z-index",1001),t>this.alphaFromZoomPercentage){var n=(t-this.alphaFromZoomPercentage)/(this.alphaToZoomPercentage-this.alphaFromZoomPercentage);i.css("opacity",1-n)}else i.css("opacity",1);t>this.alphaToZoomPercentage?i.hide():i.show()}}}},data:function(){return{attribution:"Data from the <a href='https://discord.gg/BVwKDwy'>Cardinal Guild</a>. App made by Machine_Maker and FearlessJake",bounds:[[0,0],[-9500,9500]]}}},R=Object(p.a)(F,function(){var t=this.$createElement,e=this._self._c||t;return this.zonenamesData?e("l-image-overlay",{ref:"zonenames",attrs:{url:this.zonenamesData,attribution:this.attribution,bounds:this.bounds,clickable:!1,interactive:!1,options:{class:"map-zone-overlay",className:"map-zone-overlay",interactive:!1}},on:{load:this.setOverlayLoaded}}):this._e()},[],!1,null,null,null);R.options.__file="ZoneNameOverlay.vue";var W,H=R.exports;"undefined"!=typeof window&&(W=a(98));var Q={computed:c()({},Object(l.b)(["zoomPercentage","boundaryData"])),watch:{zoomPercentage:function(t,e){if(y()(".sector-label").css("z-index",1e3),t>=this.fromZoomPercentage){var a=(t-this.fromZoomPercentage)/(this.toZoomPercentage-this.fromZoomPercentage);a=1-a,console.log("New between opacity: "+a),y()(".sector-label").css("opacity",a)}else{var i=t/this.fromZoomPercentage;console.log("New opacity: "+i),y()(".sector-label").css("opacity",i)}t>this.toZoomPercentage?y()(".sector-label").hide():y()(".sector-label").show()},boundaryData:function(t,e){this.createSectors()}},mounted:function(){this.createSectors()},methods:{createSectors:function(){if(this.boundaryData&&this.boundaryData.features&&this.boundaryData.features.length){var t;this.sectorMarkers=[];for(var e=0;e<this.boundaryData.features.length;e++)if(t=this.boundaryData.features[e],null!=/\D\d/.exec(t.properties.name)){var a=0,i=0,n=void 0;for(n=0;n<t.geometry.coordinates[0].length-1;n++)i+=t.geometry.coordinates[0][n][0],a+=t.geometry.coordinates[0][n][1];a/=n,i/=n;var r=W.divIcon({html:t.properties.name,className:"sector-label",clickable:!1,interactive:!1,iconSize:[80,40]});this.sectorMarkers.push({name:t.properties.name,latLng:W.latLng(a,i),icon:r})}}}},props:{fromZoomPercentage:{type:Number,default:10},toZoomPercentage:{type:Number,default:70}},data:function(){return{sectorMarkers:[]}}},G=(a(938),Object(p.a)(Q,function(){var t=this.$createElement,e=this._self._c||t;return this.boundaryData?e("div",[e("no-ssr",this._l(this.sectorMarkers,function(t){return e("l-marker",{key:t.name,attrs:{"lat-lng":t.latLng,icon:t.icon,options:{interactive:!1}}})}))],1):this._e()},[],!1,null,null,null));G.options.__file="SectorNamesOverlay.vue";var J,K=G.exports;"undefined"!=typeof window&&(J=a(98));var X={name:"MapLocationMarker",mounted:function(){var t=this;this.$bus.$on("toggleMarker",function(e){t.latLng=J.latLng(t.$store.state.lat,t.$store.state.lng)}),this.latLng=J.latLng(this.$store.state.lat,this.$store.state.lng)},methods:{copyLink:function(){var t=this.$refs.customMarker.mapObject.getLatLng(),e=location.protocol+"//"+location.host+location.pathname,a="?lat="+t.lat+"&lng="+t.lng+"&pointer=true";this.$copyText(e+a)}},computed:{icon:function(){return new J.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})}},data:function(){return{latLng:null}}},Y=(a(939),Object(p.a)(X,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$store.state.showMarker?a("l-marker",{ref:"customMarker",attrs:{"lat-lng":t.latLng,icon:t.icon,draggable:!0}},[a("l-popup",[a("v-btn",{attrs:{color:"#232323"},on:{click:t.copyLink}},[t._v("Copy Link")])],1)],1):t._e(),t._v(" "),t.$router.currentRoute.query.pointer?a("l-marker",{ref:"customPointer",attrs:{"lat-lng":[t.$router.currentRoute.query.lat,t.$router.currentRoute.query.lng],icon:t.icon}},[a("l-popup",[a("v-btn",{attrs:{color:"red"},on:{click:function(e){t.$parent.$parent.$refs.map.mapObject.removeLayer(t.$refs.customPointer.mapObject)}}},[t._v("Delete Marker")])],1)],1):t._e()],1)},[],!1,null,null,null));Y.options.__file="MapLocationMarker.vue";var tt=Y.exports;v()(Y,{VBtn:C.a});var et={mounted:function(){var t=this.$cookies.get("hide-newmap-b");null==t&&(this.newMapDialog=!0)},computed:{dontShowAgain:{get:function(){var t=this.$cookies.get("hide-newmap-b");return null!=t},set:function(t){this.$cookies.set("hide-newmap-b",!0,{path:"/",maxAge:2678400})}}},data:function(){return{newMapDialog:!1}}},at=(a(940),a(198)),it=a(941),nt=a(888),rt=Object(p.a)(et,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"help-cardinal-guild"},[a("v-dialog",{staticClass:"help-cardinal-guild-window",attrs:{"max-width":"500px",persistent:"",dark:""},model:{value:t.newMapDialog,callback:function(e){t.newMapDialog=e},expression:"newMapDialog"}},[a("v-card",[a("v-card-title",{staticClass:"title text-xs-center",attrs:{"primary-title":""}},[t._v("Update 31: The end of the world")]),t._v(" "),a("v-card-text",[a("p",[t._v("Hey there drifters, as you might already know, Worlds Adrift is shutting down.")]),t._v(" "),a("p",[t._v("This is the final map that was given to the Cardinal Guild. All islands are present, but missing metal Q data.")]),t._v(" "),a("p",[t._v("Please report as many Q materials as possible, it will help improve the map for others.")]),t._v(" "),a("br"),t._v(" "),a("p",[t._v("We thank the entire team at Bossa making the impossible game, possible and inspiring a lot of people with the freedom of the skies!")]),t._v(" "),a("p",[t._v("We thank the CCC for doing a great job with the latest map!")]),t._v(" "),a("br"),t._v(" "),a("p",[a("strong",[t._v("Keep on grappling!")])]),t._v(" "),a("br"),t._v(" "),a("small",[t._v("PS Dave is god!")])]),t._v(" "),a("v-card-actions",[a("v-checkbox",{attrs:{label:"Don't show this message again"},model:{value:t.dontShowAgain,callback:function(e){t.dontShowAgain=e},expression:"dontShowAgain"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{submit:"",color:"success",flat:""},on:{click:function(e){t.newMapDialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},[],!1,null,"3b1bc129",null);rt.options.__file="Update31Notice.vue";var st=rt.exports;v()(rt,{VBtn:C.a,VCard:I.a,VCardActions:x.a,VCardText:x.b,VCardTitle:at.a,VCheckbox:$.a,VDialog:it.a,VSpacer:nt.a});var ot;"undefined"!=typeof window&&(ot=a(98));var ct={computed:c()({},Object(l.b)(["zoomPercentage","islandData"]),Object(l.b)("account",{loggedIn:"loggedIn",currentCharacter:"currentCharacter",characters:"characters"})),methods:{updateVisitedIslands:function(){var t=this;if(""!==this.currentCharacter&&this.characters&&this.characters.length&&this.islandData&&this.islandData.features&&this.islandData.features.length){var e=this.currentCharacter,a=d.a.chain(this.characters).filter(function(t){return t.guid===e}).first().value();if(a&&a.visited_islands&&a.visited_islands.length){var i=[];d.a.each(a.visited_islands,function(e){i.push(d.a.chain(t.islandData.features).filter(function(t){return t.id===parseInt(e)}).first().value())}),this.visitedIslands=i}else this.visitedIslands=[]}else this.visitedIslands=[]}},mounted:function(){var t=this;this.checkMarkerIcon=ot.divIcon({html:'<img src="/assets/checkmark_small.png" />',iconSize:[32,32],iconAnchor:[16,16],clickable:!1,interactive:!1,className:"checkmark-icon"}),this.currentSize="small",this.updateVisitedIslands(),this.$bus.$on("updateCheckmarks",function(e){t.updateVisitedIslands()})},watch:{zoomPercentage:function(t,e){t<=this.normalIconFromZoomPercentage?"small"!==this.currentSize&&(this.checkMarkerIcon=ot.divIcon({html:'<img src="/assets/checkmark_small.png" />',iconSize:[32,32],iconAnchor:[16,16],clickable:!1,interactive:!1,className:"checkmark-icon"}),this.currentSize="small"):t<=this.bigIconfromZoomPercentage?"medium"!==this.currentSize&&(this.checkMarkerIcon=ot.divIcon({html:'<img src="/assets/checkmark.png" />',iconSize:[60,60],iconAnchor:[30,30],clickable:!1,interactive:!1,className:"checkmark-icon"}),this.currentSize="medium"):"big"!==this.currentSize&&(this.checkMarkerIcon=ot.divIcon({html:'<img src="/assets/checkmark.png" />',iconSize:[140,140],iconAnchor:[70,70],clickable:!1,interactive:!1,className:"checkmark-icon"}),this.currentSize="big")},currentCharacter:function(t,e){this.updateVisitedIslands()},characters:function(t,e){this.updateVisitedIslands()}},props:{normalIconFromZoomPercentage:{type:Number,default:35},bigIconfromZoomPercentage:{type:Number,default:70}},data:function(){return{currentSize:"",checkMarkerIcon:null,visitedIslands:[]}}},lt=(a(942),Object(p.a)(ct,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.islandData&&t.islandData.features&&t.islandData.features.length&&t.currentCharacter&&t.characters.length?a("div",{staticClass:"highlight-markers"},[a("no-ssr",t._l(t.visitedIslands,function(e){return a("l-marker",{key:e.properties.key,attrs:{"lat-lng":e.geometry.coordinates,icon:t.checkMarkerIcon,"layer-type":"overlay"}})}))],1):t._e()},[],!1,null,null,null));lt.options.__file="MapAccountCheckmarker.vue";var ut=lt.exports,dt={computed:c()({},Object(l.b)(["loading","overlayLoaded"]))},ht=(a(943),a(188)),pt=Object(p.a)(dt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fullscreen-buildup text-xs-center"},[e("v-container",{attrs:{bg:"","fill-height":"","grid-list-md":"","text-xs-center":""}},[e("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[e("v-flex",[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary","aria-setsize":"20"}}),this._v("Building up the map, standby ...\n      ")],1)],1)],1)],1)},[],!1,null,"10a43f4a",null);pt.options.__file="BuildUpOverlay.vue";var mt,vt=pt.exports;v()(pt,{VContainer:z.a,VFlex:S.a,VLayout:D.a,VProgressCircular:ht.a}),"undefined"!=typeof window&&(mt=a(98));var gt,ft={components:{MapLegend:b,MapIslands:U,MapHighlighter:B,ZoneNameOverlay:H,SectorNamesOverlay:K,MapLocationMarker:tt,MapAccountCheckmarker:ut,BuildUpOverlay:vt,Update31Notice:st},computed:c()({},Object(l.b)(["mapData","islandData"])),methods:{zoomToQuery:function(){if(this.$router.currentRoute.query.island&&this.currentMap){var t=this.$store.state.islandData.features,e=parseInt(this.$router.currentRoute.query.island),a=d.a.filter(t,{id:e});if(a.length){var i=a[0].geometry.coordinates,n=this.zoomPercentageToLocalZoom(90,this.currentMap.options.minZoom,this.currentMap.options.maxZoom);this.$store.commit("addHighlight",i),this.currentMap.setView(i,n)}}if(this.$router.currentRoute.query.lat&&this.$router.currentRoute.query.lng&&this.$router.currentRoute.query.zoom&&this.currentMap){var r=this.$router.currentRoute.query.lat,s=this.$router.currentRoute.query.lng,o=this.zoomPercentageToLocalZoom(this.$router.currentRoute.query.zoom,this.currentMap.options.minZoom,this.currentMap.options.maxZoom);this.currentMap.setView([r,s],o)}},onZoom:d.a.debounce(function(t,e){var a=Math.round((t.target._zoom-t.target.options.minZoom)/(t.target.options.maxZoom-t.target.options.minZoom)*100);console&&console.log&&(console.log("Map zoom: "+t.target._zoom),console.log("Map zoomPercentage: "+a)),e.$store.commit("setZoomPercentage",a)},400),onMoveEnd:function(t,e){e.$store.commit("setLatLng",t.target.getCenter())},zoomPercentageToLocalZoom:function(t,e,a){return t/100*(a-e)+e},startBuildUpSequence:(gt=s()(n.a.mark(function t(){var e,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t){return new Promise(function(e,a){setTimeout(function(){return e()},t)})},t.next=3,e(10);case 3:return this.buildGeoJson=!0,t.next=6,e(10);case 6:return this.buildIslandIcons=!0,t.next=9,e(10);case 9:return this.$router.currentRoute&&this.$router.currentRoute.query&&this.$store.state.overlayLoaded&&this.currentMap&&(a=Math.round((this.currentMap._zoom-this.currentMap.minZoom)/(this.currentMap.maxZoom-this.currentMap.minZoom)*100),this.$store.commit("setZoomPercentage",a)),this.buildUpSequence=!1,t.next=13,e(10);case 13:this.zoomToQuery();case 14:case"end":return t.stop()}},t,this)})),function(){return gt.apply(this,arguments)})},beforeMount:function(){var t=this;this.crs=mt.CRS.Simple,this.$store.commit("setMapMode",this.mode);var e=setInterval(s()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t.$refs.map&&t.$refs.map.mapObject&&t.$store.state.islandData)){a.next=7;break}return t.$store.commit("loading",!1),clearInterval(e),t.currentMap=t.$refs.map.mapObject,t.currentMap.getRenderer(t.currentMap).options.padding=1,a.next=7,t.startBuildUpSequence();case 7:case"end":return a.stop()}},a,this)})),100)},mounted:function(){var t=this;this.$store.commit("setHighlights",[]),this.$bus.$on("zoomToIsland",function(e){var a=t.zoomPercentageToLocalZoom(80,t.currentMap.options.minZoom,t.currentMap.options.maxZoom);t.$store.commit("setHighlights",[e]),t.currentMap.setView(e,a),t.$bus.$emit("closeLegend")}),this.$bus.$on("zoomToIslandWithoutHighlight",function(e){var a=t.zoomPercentageToLocalZoom(80,t.currentMap.options.minZoom,t.currentMap.options.maxZoom);t.currentMap.setView(e,a),t.$bus.$emit("closeLegend")})},data:function(){return{attribution:"<a href='/credits'>Click here for credits</a>",bounds:[[0,0],[-9500,9500]],currentMap:null,center:[-4750,4750],boundaryOptions:{style:function(t){return t.properties},interactive:!1},buildUpSequence:!0,buildGeoJson:!1,buildIslandIcons:!1,buildIslandCircles:!1,crs:null,zoom:-4.6,mapOptions:{minZoom:-4.6,maxZoom:-.4,zoomSnap:.2,zoomDelta:.2,wheelPxPerZoomPercentage:400,attributionControl:!0}}},props:{mode:{type:String,default:"pve"}}},bt=(a(944),a(945),Object(p.a)(ft,function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.islandData?a("div",{attrs:{id:"map-wrap"}},[a("Update31Notice"),t._v(" "),a("no-ssr",[t.buildUpSequence?a("BuildUpOverlay"):t._e(),t._v(" "),a("l-map",{ref:"map",attrs:{id:"leaflet-map",bounds:t.bounds,center:t.center,crs:t.crs,zoom:t.zoom,options:t.mapOptions,"attribution-control":!1,attribution:!1,"close-popup-on-click":!1,"prefer-canvas":!0,"z-index":0},on:{moveend:function(e){t.onMoveEnd(e,t.$root)},zoom:function(e){t.onZoom(e,t.$root)}}},[t.buildIslandIcons?a("map-islands",{attrs:{"show-icons-from-percentage":35,"alpha-icons-to-percentage":30,"show-circles-from-percentage":75}}):t._e(),t._v(" "),t.mapData?a("l-image-overlay",{ref:"mapData",attrs:{url:t.mapData,attribution:t.attribution,bounds:t.bounds,clickable:!1,interactive:!1,options:{interactive:!1}}}):t._e(),t._v(" "),a("map-highlighter",{attrs:{"normal-icon-from-zoom-percentage":35,"big-iconfrom-zoom-percentage":75}}),t._v(" "),a("map-account-checkmarker",{attrs:{"normal-icon-from-zoom-percentage":35,"big-iconfrom-zoom-percentage":75}}),t._v(" "),a("map-location-marker"),t._v(" "),a("map-legend",{attrs:{"fade-out-from-zoom-percentage":75}})],1)],1)],1):t._e()},[],!1,null,"6673c8e2",null));bt.options.__file="Map.vue";e.a=bt.exports},923:function(t,e,a){"use strict";var i=a(33),n=a.n(i),r=a(52),s={computed:n()({},Object(r.b)(["loading","overlayLoaded"]))},o=(a(928),a(32)),c=a(81),l=a.n(c),u=a(193),d=a(195),h=a(196),p=a(188),m=Object(o.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return this.loading&&!this.overlayLoaded?e("div",{staticClass:"fullscreen-loader text-xs-center"},[e("v-container",{attrs:{bg:"","fill-height":"","grid-list-md":"","text-xs-center":""}},[e("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[e("v-flex",[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary","aria-setsize":"20"}}),this._v("Loading map data ...\n      ")],1)],1)],1)],1):this._e()},[],!1,null,"96b4a6fc",null);m.options.__file="LoadingOverlay.vue";e.a=m.exports;l()(m,{VContainer:u.a,VFlex:d.a,VLayout:h.a,VProgressCircular:p.a})},928:function(t,e,a){"use strict";var i=a(905);a.n(i).a},929:function(t,e,a){t.exports=a.p+"img/7802f11.png"},930:function(t,e,a){t.exports=a.p+"img/e7e7efc.png"},931:function(t,e,a){t.exports=a.p+"img/7557aaa.png"},932:function(t,e,a){t.exports=a.p+"img/89b045a.png"},933:function(t,e,a){t.exports=a.p+"img/6a03ba2.png"},934:function(t,e,a){"use strict";var i=a(906);a.n(i).a},935:function(t,e,a){"use strict";var i=a(907);a.n(i).a},936:function(t,e,a){"use strict";var i=a(908);a.n(i).a},937:function(t,e,a){"use strict";var i=a(909);a.n(i).a},938:function(t,e,a){"use strict";var i=a(910);a.n(i).a},939:function(t,e,a){"use strict";var i=a(911);a.n(i).a},940:function(t,e,a){"use strict";var i=a(912);a.n(i).a},942:function(t,e,a){"use strict";var i=a(914);a.n(i).a},943:function(t,e,a){"use strict";var i=a(915);a.n(i).a},944:function(t,e,a){"use strict";var i=a(916);a.n(i).a},945:function(t,e,a){"use strict";var i=a(917);a.n(i).a}}]);